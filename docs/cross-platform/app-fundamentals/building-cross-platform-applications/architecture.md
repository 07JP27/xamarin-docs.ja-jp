---
title: "パート 2 - アーキテクチャ"
ms.topic: article
ms.prod: xamarin
ms.assetid: 2176DB2D-E84A-3757-CFAB-04A586068D50
ms.technology: xamarin-cross-platform
author: asb3993
ms.author: amburns
ms.date: 03/27/2017
ms.openlocfilehash: 25cd374ef2b3026f5ac7242ee076c8593ce806da
ms.sourcegitcommit: 0fdb243b46cf21be47584900805cadcd077121bf
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/13/2018
---
# <a name="part-2---architecture"></a>パート 2 - アーキテクチャ

クロスプラット フォーム アプリをビルドの主要理念では、プラットフォーム間で共有コードの活用の最大化に向いているアーキテクチャを作成します。 次のオブジェクト指向プログラミングの原則に従うことにより綿密に設計されたアプリケーションを構築します。

-   **カプセル化**– ことを確認するクラスともアーキテクチャ レイヤーだけを公開、必要なを実行する最小 API 関数、および実装の詳細を非表示にします。 クラス レベルにはオブジェクトに 'ブラック_ボックス' として動作して、コードを実行する必要はありません、タスクを実行する方法を知ることを意味します。 をアーキテクチャ レベルでより抽象レイヤー内のコードの代わりのより複雑な相互作用を指揮する簡略化された API を奨励するファサードのようなパターンを実装することを意味します。 つまり、UI コード (たとえば) する必要がありますのみ画面を表示して、ユーザーの入力を受け入れを担当直接、データベースと対話することはありません。 同様に、データ アクセス コードする必要がありますのみ読み取ると、データベースへの書き込みけれども、ボタンやラベルを直接対話することはありません。
-   **分担**– 各コンポーネントを確認してください (アーキテクチャの両方でクラス レベル) 明確かつ適切に定義された目的します。 各コンポーネントは、のみ定義されているタスクの実行し、それを使用する必要があるその他のクラスにアクセスできる API を使用してその機能を公開する必要があります。
-   **ポリモーフィズム**– コア コードの記述し、プラットフォーム固有の機能とも対話中に、プラットフォームで共有を複数の実装方法をサポートするプログラミング インターフェイス (または抽象クラス)。


自然な結果は、現実世界または別の論理レイヤーを持つ抽象エンティティの後にモデル化されたアプリケーションです。 コードをレイヤー アプリケーションを理解、テスト、および保守を簡単に分割します。 (ディレクトリまたは非常に大規模なアプリケーションでも個別のプロジェクトでも) に物理的に独立しただけでなく (名前空間の使用) は論理的に個別に各レイヤーでコードがあることをお勧めします。

 <a name="Typical_Application_Layers" />


## <a name="typical-application-layers"></a>通常、アプリケーション レイヤー

このドキュメントとケース スタディ全体では、次の 6 つのアプリケーション層を参照してください。

-   **データ層**– 非揮発性データの永続性、SQLite データベースにする可能性がありますが、XML ファイルやその他の適切なメカニズムを実装する可能性があります。
-   **データ アクセス層**– Create、Read、Update、呼び出し側に実装の詳細を公開することがなくデータへの削除 (CRUD) アクセスを提供するデータ層のラッパー。 たとえば、DAL がクエリやデータを更新する SQL ステートメントが参照元コードがこれを理解する必要はありません。
-   **ビジネス層**– (ビジネス ロジック層または BLL とも呼ばれます) ビジネス エンティティ定義 (モデル) とビジネス ロジックが含まれています。 ビジネス ファサード パターンの候補。
-   **サービス アクセス層**– クラウド サービスへのアクセスに使用されている: 複雑な web サービス (REST、JSON、WCF) をリモート サーバーからのデータとイメージの単純な取得するからです。 ネットワークの動作をカプセル化し、アプリケーションと UI レイヤーでの使用を単純な API を提供します。
-   **アプリケーション層**– (は、一般に、プラットフォーム間で共有する) プラットフォーム固有では通常またはコードをコードが (一般に再利用ができない) のアプリケーションに固有です。 クラスが、実際の表示コントロールを持つかどうか、(b) かどうか、でした間で共有する複数の画面やデバイス (かを確認するには (a) は、UI 層とアプリケーション層にコードを配置するかどうかをテストする良い iPhone と iPad)。
-   **ユーザー インターフェイス (UI) レイヤー** – ユーザー向けのレイヤーには、画面、ウィジェットが含まれています。 およびコント ローラーを管理します。


アプリケーションは、すべてのレイヤーを必ずしもことはできません: サービス アクセス層はネットワーク リソースにアクセスしないアプリケーションに存在しないなどです。 非常に単純なアプリケーションは、操作は、非常に基本的なため、データ層とデータ アクセス層をマージする可能性があります。

 <a name="Common_Mobile_Software_Patterns" />


## <a name="common-mobile-software-patterns"></a>モバイル ソフトウェアの一般的なパターン

パターンは、一般的な問題についての定期的な対処をキャプチャする確立された方法です。 理解保守性の高い/が理解できるもののモバイル アプリケーションを構築するための便利ないくつかの主要パターンがあります。

-   **モデル、ビュー、ViewModel (MVVM)** –「モデル-ビュー-ViewModel パターンは Xamarin.Forms など、データ バインディングをサポートするフレームワークでよく使用されます。 Windows Presentation Foundation (WPF) および Silverlight; と同様に XAML が有効な Sdk によって普及しました。ここで、ViewModel はデータ (モデル) とデータのバインドとコマンドを使用してユーザー インターフェイス (ビュー) の間で仲介役として機能します。
-   **モデル、ビュー、コント ローラー (MVC)** – 一般的なと誤解パターンでは、MVC はユーザー インターフェイスを構築するときに最もよく使用され、UI 画面 (ビュー) を処理する背後にあるエンジンの実際の定義の間の分離を提供相互作用 (コント ローラー) と、(モデル) を作成するデータ。 モデルは実際には完全に省略可能な 1 つであり、ビューとコント ローラーでこのパターンを理解するためのコアがあるため、します。 MVC は、iOS アプリケーションの一般的なアプローチです。
-   **ビジネス ファサード**– マネージャ パターンでは別名は、複雑な作業のエントリの簡略化されたポイントを提供します。 たとえば、作業の追跡のアプリケーションでは、する必要があります、`TaskManager`などのメソッドとクラス`GetAllTasks()`、 `GetTask(taskID)` 、 `SaveTask (task)` , などです。`TaskManager`クラスには、実際に保存/取得するタスク オブジェクトの内部動作をファサードが用意されています。
-   **シングルトン**–、シングルトン パターンを特定のオブジェクトのインスタンスが 1 つだけことがこれまで存在する方法を提供します。 たとえば、SQLite をモバイル アプリケーションを使用する場合のみたくなったデータベースの 1 つのインスタンス。 これを実現する簡単な方法は、シングルトン パターンを使用します。
-   **プロバイダー** – パターンが、Silverlight、WPF と WinForms アプリケーション間でコードの再利用をお勧め Microsoft (戦略、または基本的な依存関係の挿入におそらく似ています) によって作らです。 インターフェイスまたは抽象クラスは、に対して共有コードを記述することができ、プラットフォーム固有の具体的な実装は記述され、コードの使用時に渡されました。
-   **非同期**– Async キーワード、長時間実行される作業は、UI または現在の処理を保持することがなく実行する必要がある場合、パターンが使用される非同期と混同しないでください。 最も単純な形式での非同期パターン単に説明別の実行時間の長いタスクを開幕することスレッド (またはタスクなどのようなスレッドの抽象化)、現在のスレッドの中に処理を継続して、バック グラウンド プロセスからの応答を待機、し、データまたは状態が返されるときに、UI を更新します。


各パターンが、実際に使用がケース スタディに示すように詳細に検査されます。 Wikipedia の説明の詳細は、 [MVVM](https://en.wikipedia.org/wiki/Model–view–viewmodel)、 [MVC](https://en.wikipedia.org/wiki/Model–view–controller)、[ファサード](http://en.wikipedia.org/wiki/Facade_pattern)、[シングルトン](http://en.wikipedia.org/wiki/Singleton_pattern)、[戦略](http://en.wikipedia.org/wiki/Strategy_pattern)と[プロバイダー](http://en.wikipedia.org/wiki/Provider_model)パターン (および[デザイン パターン](http://en.wikipedia.org/wiki/Design_Patterns)通常)。
